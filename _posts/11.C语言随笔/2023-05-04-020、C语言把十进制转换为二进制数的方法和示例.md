C语言中，整数都是以二进制的形式存放在内存中，所谓的二进制、八进制、十进制和十六进制只是输出显示方式的不同。

下表是各种进制整数的输出格式。

  ---------------------------------------------------------------------------
  **%hd、%d、%ld**   **以十进制、有符号的形式输出short、int、long
                     类型的整数。**
  ------------------ --------------------------------------------------------
  **%hu、%u、%lu**   **以十进制、无符号的形式输出short、int、long
                     类型的整数。**

  %ho、%o、%lo       以八进制、不带前缀、无符号的形式输出 short、int、long
                     类型的整数

  %#ho、%#o、%#lo    以八进制、带前缀、无符号的形式输出 short、int、long
                     类型的整数

  %hx、%x、%lx\      以十六进制、不带前缀、无符号的形式输出 short、int、long
  %hX、%X、%lX       类型的整数。如果 x
                     小写，那么输出的十六进制数字也小写；如果 X
                     大写，那么输出的十六进制数字也大写。

  %#hx、%#x、%#lx\   以十六进制、带前缀、无符号的形式输出 short、int、long
  %#hX、%#X、%#lX    类型的整数。如果 x
                     小写，那么输出的十六进制数字和前缀都小写；如果 X
                     大写，那么输出的十六进制数字和前缀都大写。
  ---------------------------------------------------------------------------

细心的读者可能会发现，上表中没有二进制的输出格式，不能使用 printf
函数输出二进制数。您可以编写函数把其它进制数字转换成二进制数字，并保存在字符串中，然后在
printf 函数中使用%s输出。

# 自定义的十进制转二进制字符串函数dectobin

思路：

1）把十进数除以2，记下余数（余数保存在字符串中），现用商除以2，再记下余数，如此循环，直到商为0。

2）把保存余数的字符串反过来，就是结果。

例如123转化成二进制：

123/2=61余1

61/2=30余1

30/2=15余0

15/2=7余1

7/2=3余1

3/2=1余1

1/1=0余1

结果是1101111，反过来就是1111011。

**示例：**

/\*

\* 程序名：book.c，此程序用于把十进制转换为二进制的字符串。

\* 作者：C语言技术网(www.freecplus.net) 日期：20190525。

\*/

#include \"stdio.h\"

#include \<string.h\>

// 把十进制整数转换为二进制的字符串。

// dec：待转换的十进制整数。

//
pbin：用于存放转换后的字符串的地址，注意，您必须保证pbin足以存放转换后的结果，否则可能会产生内存溢出。在64位操作系统中，long的最大取值为2的64次方，所以，pbin最大不必超过65。

void dectobin(const long dec,char \*pbin)

{

long ys=0; // 余数。

int s=dec; // 商。

int ii=0; // 位数的计数器。

char result\[65\]; //
十进制转换成二进制后，保存在result中，再反过来存放到pbin中。

memset(result,0,sizeof(result));

// 把十进制转换为二进制，存放在result中。

while (s\>0)

{

ys=s%2;

s=s/2;

result\[ii\]=ys+\'0\';

ii++;

}

// 再把result字符串反过来，存放在pbin中。

int jj=0;

for (;ii\>0;ii\--)

{

pbin\[jj\]=result\[ii-1\];

jj++;

}

pbin\[jj\]=0; // 出于安全的考虑，加上0表示字符串结束。

}

int main()

{

int ii=0;

printf(\"请输入一个整数：\");

scanf(\"%d\",&ii);

char str\[65\];

dectobin(ii,str);

printf(\"%d的二进制输出是：%s\\n\",ii,str);

}

# 2、版权声明 {#版权声明 .unnumbered}

C语言技术网原创文章，转载请说明文章的来源、作者和原文的链接。

来源：C语言技术网（[www.freecplus.net](http://www.freecplus.net)）

作者：码农有道

如果这篇文章对您有帮助，请点赞支持，或在您的博客中转发此文，让更多的人可以看到它，谢谢！！！
