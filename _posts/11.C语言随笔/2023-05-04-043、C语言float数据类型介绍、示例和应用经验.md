## 1、浮点数的概念

浮点数也称小数或实数。例如，0.0、75.0、4.023、0.27、-937.198
都是合法的小数。

C语言中采用float和double关键字来定义小数，float称为单精度浮点型，double称为双精度浮点型，long
double更长的双精度浮点型。

## 2、测试float数据类型

C标准规定，float类型必须至少能表示6位有效数字，且取值范围至少是10^-37^～10^+37^。

我们用以下代码来测试float类型的特点。

**示例**

[/\*]{.mark}

[\* 程序名：book.c，此程序测试float的特征]{.mark}

[\* 作者：C语言技术网(www.freecplus.net) 日期：20190525]{.mark}

[\*/]{.mark}

[#include \<stdio.h\>]{.mark}

[int main()]{.mark}

[{]{.mark}

[float ff2=9.9; // 测试2位的浮点数]{.mark}

[printf(\"ff2=%f\\n\",ff2);]{.mark}

[if (ff2==9.9) printf(\"ff2==9.9\\n\");]{.mark}

[float ff5=99.999; // 测试5位的浮点数]{.mark}

[printf(\"ff5=%f\\n\",ff5);]{.mark}

[if (ff5==99.999) printf(\"ff5==99.999\\n\");]{.mark}

[float ff6=999.999; // 测试6位的浮点数]{.mark}

[printf(\"ff6=%f\\n\",ff6);]{.mark}

[if (ff6==999.999) printf(\"ff6==999.999\\n\");]{.mark}

[float ff7=9999.999; // 测试7位的浮点数]{.mark}

[printf(\"ff7=%f\\n\",ff7);]{.mark}

[if (ff7==9999.999) printf(\"ff7==9999.999\\n\");]{.mark}

[float ff8=99999.999; // 测试8位的浮点数]{.mark}

[printf(\"ff8=%f\\n\",ff8);]{.mark}

[if (ff8==99999.999) printf(\"ff8==99999.999\\n\");]{.mark}

[}]{.mark}

**运行效果**

![](/images/83/media/image1.png){width="7.268055555555556in"
height="1.6458333333333333in"}

从程序运行的结果可以看出float数的两个特征：

**1）float数据类型表达的是一个近似的数，不是准确的，小数点后的n位有误差，浮点数的位数越大，误差越大，到8位的时候，误差了1，基本上不能用了。**

**2）用"=="可以比较两个整数或字符是否相等，但是，看起来相等的两个浮点数，就是不会相等。**

## 3、应用经验

float浮点数有一些坑，例如两个浮点数不相等和精度的问题，在实际开发中，我们经常用整数代替浮点数，因为整数是精确的，效率也更高。

例如人的身高一米七五，以米为单位，用浮点数表示是1.75米，如果以厘米为单位，用整数表示是175。

在实际开发中，建议弃用float数据类型，二十年来，我从不使用它。

## 4、版权声明

C语言技术网原创文章，转载请说明文章的来源、作者和原文的链接。

来源：C语言技术网（[www.freecplus.net](http://www.freecplus.net)）

作者：码农有道
