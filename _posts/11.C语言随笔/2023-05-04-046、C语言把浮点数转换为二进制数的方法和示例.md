浮点数据转换为二进制的方法是：

1）把浮点数拆分成两部分，小数点前面的整数和小数点后面的小数。

2）分别把整数和小数部分转换为二进制，保存在字符串中。

3）输出转换后和二进制字符串。

# 1、整数部分转二进制字符串的方法

1）把十进数除以2，记下余数（余数保存在字符串中），现用商除以2，再记下余数，如此循环，直到商为0。

2）把保存余数的字符串反过来，就是结果。

例如123转化成二进制：

123/2=61余1

61/2=30余1

30/2=15余0

15/2=7余1

7/2=3余1

3/2=1余1

1/1=0余1

结果是1101111，反过来就是1111011。

# 2、小数部分转二进制字符串的方法

1）把小数乘以2，假设结果是s，如果s大于1，该位二进制值为1，如果小于1，该位二进制值为0；

2）把上一步的结果s去掉整数位，只保留小数位，假设得到结果xs，如果xs等于0，转换结束，如果xs大于0，重复第1）步。

例如0.2转换为二进制：

0.2\*2=0.4 0

0.4\*2=0.8 0

0.8\*2=1.6 1

0.6\*2=1.2 1

0.2\*2=0.4 0

...... 无限循环

**浮点数123.2，转换为二进制的结果是1111011.00110011001100110011（小数点后保留20位）。**

# 3、示例程序

/\*

\* 程序名：book.c，此程序用于把浮点数转换为二进制的字符串。

\* 作者：C语言技术网(www.freecplus.net) 日期：20190525。

\*/

#include \"stdio.h\"

#include \<string.h\>

// 把浮点数的整数部分转换为二进制的字符串。

// dec：待转换的浮点数的整数部分。

// pbin：用于存放转换后的字符串的地址。

void dectobin(const long dec,char \*pbin)

{

long ys=0; // 余数。

int s=dec; // 商。

int ii=0; // 位数的计数器。

char result\[65\]; //
转换成二进制后，保存在result中，再反过来存放到pbin中。

memset(result,0,sizeof(result));

// 把浮点数的整数部分转换为二进制，存放在result中。

while (s\>0)

{

ys=s%2;

s=s/2;

result\[ii\]=ys+\'0\';

ii++;

}

// 再把result字符串反过来，存放在pbin中。

int jj=0;

for (;ii\>0;ii\--)

{

pbin\[jj\]=result\[ii-1\];

jj++;

}

pbin\[jj\]=0; // 出于安全的考虑，加上0表示字符串结束。

}

// 把浮点数小数部分转换为二进制的字符串。

// decp：待转换的浮点数的小数部分。

// pbin：用于存放转换后的字符串的地址。

// maxp：指定pbin字符串保留的长度。

void decptobin(const double decp,char \*pbin,const int maxp)

{

double xs=decp; // 小数部分。

int qz=0; // 取整的结果。

int ii=0; // 位数的计数器。

while (xs\>0)

{

qz=(int)(xs\*2); // 小数部分乘2取整。

pbin\[ii++\]=qz+\'0\'; // 0+\'0\'=\'0\'，1+\'0\'=\'1\'。

xs=xs\*2; // 小数部分乘2。

if (xs\>=1) xs=xs-1; // 如果\>=1，取整。

if (ii==maxp) break;

}

pbin\[ii\]=0; // 出于安全的考虑，加上0表示字符串结束。

}

int main()

{

double ff=0;

printf(\"请输入一个浮点数：\");

scanf(\"%lf\",&ff);

char str1\[101\],str2\[101\];

memset(str1,0,sizeof(str1));

dectobin((long)ff,str1); // 把整数部分转换为二进制，保存在str1中。

decptobin(ff-(long)ff,str2,24); //
把小数部分转换为二进制，保存在str2中。

printf(\"%f的二进制输出是：%s.%s\\n\",ff,str1,str2);

}

**运行效果**

![](/images/86/media/image1.png){width="7.268055555555556in"
height="1.6229166666666666in"}

# 4、版权声明

C语言技术网原创文章，转载请说明文章的来源、作者和原文的链接。

来源：C语言技术网（[www.freecplus.net](http://www.freecplus.net)）

作者：码农有道

如果这篇文章对您有帮助，请点赞支持，或在您的博客中转发此文，让更多的人可以看到它，谢谢！！！
